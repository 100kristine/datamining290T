<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
<html>

<head>


</head>

<body>

<div id="battery" style="height:500px; width:1000px; background-color:black;"></div>
    <script type="text/javascript">
//Sources: http://christopheviau.com/d3_tutorial/
//http://www.sitepoint.com/visualizing-data-d3/
//http://stackoverflow.com/questions/11189284/d3-axis-labeling
var data = [['94', '272', '4070'], ['93', '287', '4045'], ['92', '230', '4084'], ['93', '230', '4084'], ['92', '230', '4084'], ['91', '230', '4079'], ['92', '228', '4079'], ['91', '230', '4079'], ['90', '276', '4070'], ['89', '293', '4035'], ['89', '293', '4035'], ['88', '280', '4026'], ['87', '298', '4021'], ['86', '317', '4045'], ['85', '315', '4035'], ['84', '308', '4030'], ['83', '310', '4016'], ['82', '315', '4016'], ['81', '315', '3982'], ['80', '305', '4001'], ['80', '305', '4001'], ['79', '288', '3957'], ['78', '290', '3947'], ['77', '295', '3943'], ['76', '302', '3933'], ['75', '305', '3933'], ['74', '311', '3918'], ['73', '317', '3908'], ['72', '307', '3943'], ['73', '297', '3943'], ['72', '291', '3952'], ['73', '285', '3943'], ['72', '263', '3923'], ['71', '231', '3908'], ['70', '220', '3928'], ['69', '292', '3938'], ['68', '287', '3928'], ['67', '290', '3903'], ['66', '297', '3874'], ['66', '297', '3874'], ['65', '302', '3874'], ['64', '305', '3869'], ['63', '256', '3845'], ['62', '270', '3840'], ['61', '288', '3864'], ['60', '256', '3859'], ['59', '216', '3855'], ['58', '191', '3855'], ['57', '187', '3845'], ['56', '186', '3845'], ['55', '186', '3840'], ['54', '183', '3835'], ['53', '183', '3820'], ['52', '183', '3796'], ['51', '183', '3820'], ['50', '182', '3815'], ['49', '185', '3806'], ['48', '186', '3781'], ['47', '192', '3786'], ['46', '236', '3796'], ['45', '282', '3801'], ['44', '243', '3752'], ['43', '251', '3776'], ['42', '246', '3786'], ['41', '246', '3762'], ['40', '238', '3791'], ['39', '200', '3796'], ['38', '206', '3791'], ['37', '301', '3767'], ['36', '297', '3781'], ['35', '322', '3757'], ['34', '325', '3771'], ['34', '325', '3771'], ['33', '327', '3767'], ['32', '312', '3767'], ['31', '268', '3771'], ['30', '243', '3771'], ['29', '243', '3757'], ['28', '233', '3767'], ['27', '235', '3757'], ['27', '235', '3757'], ['26', '250', '3747'], ['25', '265', '3737'], ['24', '287', '3723'], ['23', '287', '3718'], ['22', '297', '3732'], ['21', '296', '3737'], ['20', '288', '3708'], ['20', '288', '3708'], ['19', '287', '3728'], ['18', '285', '3713'], ['17', '238', '3723'], ['16', '223', '3684'], ['15', '221', '3708'], ['14', '218', '3698'], ['13', '220', '3684'], ['12', '218', '3688'], ['11', '215', '3684'], ['10', '213', '3679'], ['9', '208', '3688'], ['8', '203', '3684'], ['7', '206', '3620'], ['6', '206', '3684'], ['5', '207', '3674'], ['4', '202', '3669'], ['3', '198', '3630'], ['2', '197', '3600'], ['1', '197', '3537'], ['0', '198', '3483'], ['0', '193', '3469'], ['14', '241', '3791'], ['15', '267', '3762'], ['16', '283', '3767'], ['17', '287', '3796'], ['18', '290', '3781'], ['19', '290', '3806'], ['20', '292', '3801'], ['21', '292', '3806'], ['22', '292', '3835'], ['23', '291', '3820'], ['24', '290', '3840'], ['25', '287', '3845'], ['26', '286', '3855'], ['27', '285', '3855'], ['28', '285', '3855'], ['29', '285', '3859'], ['30', '285', '3859'], ['31', '283', '3859'], ['32', '283', '3859'], ['33', '285', '3864'], ['34', '285', '3869'], ['35', '285', '3869'], ['36', '286', '3869'], ['37', '286', '3874'], ['38', '286', '3874'], ['39', '286', '3879'], ['40', '285', '3869'], ['41', '285', '3884'], ['42', '285', '3874'], ['43', '285', '3889'], ['44', '285', '3894'], ['45', '286', '3894'], ['46', '285', '3899'], ['47', '286', '3903'], ['48', '285', '3908'], ['49', '285', '3913'], ['50', '285', '3913'], ['51', '285', '3923'], ['52', '285', '3908'], ['53', '286', '3928'], ['54', '287', '3933'], ['55', '287', '3938'], ['56', '287', '3947'], ['57', '287', '3952'], ['58', '287', '3957'], ['59', '287', '3967'], ['60', '287', '3977'], ['61', '287', '3982'], ['62', '287', '3991'], ['63', '287', '3996'], ['64', '287', '4001'], ['65', '287', '4006'], ['66', '287', '4011'], ['67', '287', '4016'], ['68', '287', '4021'], ['69', '287', '4011'], ['70', '287', '4030'], ['71', '287', '4040'], ['72', '287', '4045'], ['73', '287', '4050'], ['74', '287', '4055'], ['75', '287', '4065'], ['76', '287', '4070'], ['77', '287', '4074'], ['78', '287', '4084'], ['79', '287', '4089'], ['80', '287', '4084'], ['81', '288', '4104'], ['82', '288', '4114'], ['83', '288', '4118'], ['84', '287', '4123'], ['85', '287', '4123'], ['86', '287', '4138'], ['87', '287', '4143'], ['88', '287', '4148'], ['89', '287', '4148'], ['90', '287', '4157'], ['91', '286', '4162'], ['92', '285', '4167'], ['93', '285', '4172'], ['100', '283', '4177'], ['100', '283', '4177'], ['100', '297', '4153'], ['99', '295', '4143'], ['98', '310', '4084'], ['97', '307', '4123'], ['96', '275', '4114'], ['97', '268', '4118'], ['96', '266', '4114'], ['97', '248', '4114'], ['96', '247', '4109'], ['96', '247', '4109'], ['95', '197', '4094'], ['94', '220', '4074'], ['93', '236', '4065'], ['92', '246', '4065'], ['91', '253', '4065'], ['90', '280', '4065'], ['89', '312', '4060'], ['88', '317', '4030'], ['87', '327', '4035'], ['86', '311', '4016'], ['85', '285', '4016'], ['84', '292', '4016'], ['83', '186', '4011'], ['82', '178', '4001'], ['81', '175', '3996'], ['80', '176', '3952'], ['79', '173', '3977'], ['78', '172', '3962'], ['77', '171', '3933'], ['76', '168', '3962'], ['75', '168', '3943'], ['74', '170', '3952'], ['73', '171', '3947'], ['72', '171', '3918'], ['71', '168', '3938'], ['70', '163', '3928'], ['69', '231', '3913'], ['68', '273', '3913'], ['67', '292', '3894'], ['66', '290', '3889'], ['66', '290', '3889'], ['65', '287', '3859'], ['64', '273', '3855'], ['63', '271', '3864'], ['62', '273', '3820'], ['61', '273', '3825'], ['60', '267', '3845'], ['59', '246', '3840'], ['58', '263', '3811'], ['58', '263', '3811'], ['57', '280', '3825'], ['56', '295', '3815'], ['55', '308', '3830'], ['54', '312', '3820'], ['53', '266', '3781'], ['52', '287', '3762'], ['51', '307', '3776'], ['50', '322', '3776'], ['49', '325', '3781'], ['48', '327', '3776'], ['47', '325', '3762'], ['46', '320', '3791'], ['45', '312', '3771'], ['44', '317', '3752'], ['43', '322', '3742'], ['42', '330', '3762'], ['41', '330', '3762'], ['40', '251', '3767'], ['39', '251', '3781'], ['38', '268', '3771'], ['37', '271', '3776'], ['36', '293', '3776'], ['35', '315', '3767'], ['34', '320', '3767'], ['33', '322', '3757'], ['32', '302', '3762'], ['31', '288', '3752'], ['30', '285', '3752'], ['30', '285', '3752'], ['29', '310', '3728'], ['28', '253', '3747'], ['27', '211', '3752'], ['26', '193', '3747'], ['25', '186', '3747'], ['24', '180', '3742'], ['23', '176', '3742'], ['22', '173', '3728'], ['21', '171', '3684'], ['20', '167', '3713'], ['19', '172', '3713'], ['18', '176', '3698'], ['17', '176', '3693'], ['16', '173', '3693'], ['15', '221', '3635'], ['14', '235', '3684'], ['13', '243', '3644'], ['12', '257', '3659'], ['11', '263', '3649'], ['11', '263', '3649'], ['10', '268', '3649'], ['9', '273', '3605'], ['8', '282', '3537'], ['7', '287', '3488'], ['7', '287', '3488'], ['0', '288', '3439'], ['0', '271', '3439'], ['0', '261', '3400'], ['0', '250', '3469'], ['1', '261', '3732'], ['2', '265', '3747'], ['3', '268', '3786'], ['4', '276', '3815'], ['5', '280', '3801'], ['6', '282', '3820'], ['7', '285', '3815'], ['8', '285', '3820'], ['9', '287', '3825'], ['10', '288', '3835'], ['11', '290', '3825'], ['12', '290', '3845'], ['13', '290', '3850'], ['14', '291', '3859'], ['15', '292', '3855'], ['16', '292', '3869'], ['17', '295', '3879'], ['18', '295', '3884'], ['19', '295', '3879'], ['20', '296', '3894'], ['21', '296', '3899'], ['23', '297', '3903'], ['24', '297', '3894'], ['25', '297', '3913'], ['26', '297', '3913'], ['27', '300', '3923'], ['28', '300', '3928'], ['29', '300', '3928'], ['30', '300', '3928'], ['31', '300', '3933'], ['32', '300', '3938'], ['33', '300', '3938'], ['34', '300', '3943'], ['36', '300', '3947'], ['37', '300', '3952'], ['38', '297', '3913'], ['39', '297', '3947'], ['40', '300', '3952'], ['41', '300', '3938'], ['43', '303', '3952'], ['44', '305', '3972'], ['45', '305', '3977'], ['46', '306', '3982'], ['48', '305', '3972'], ['49', '305', '3996'], ['50', '305', '4001'], ['51', '303', '3991'], ['52', '305', '3996']];


var Box = d3.select("#battery")
  .append("svg")
  .attr("width", 700)
  .attr("height", 400);

var box = Box.selectAll("circle").data(data);

box.enter()
  .append("circle")
  .style("fill", function(d) {return d3.rgb(d[0]*3,d[1],d[2]/100);})
  .attr("opacity",.3) //level, temp, voltage
  .attr("cx", function(d) { return d[0]*3; })
  .attr("cy", function(d) { return -300+d[1]*2; })
  .attr("r", function(d) { return d[2]/450; })
  .on("mouseout", function(d){d3.select(this).style("fill", d3.rgb(d[0]*5,d[1],d[2]/200));})
  .on("mouseover", move);

Box.append("text")
    .attr("x", 300 )
    .attr("y",  100 )
    .style("text-anchor", "middle")
    .text("level vs. temperature vs. voltage of smartphone batteries")
    .attr("fill",'white')
    .attr("font-family",'sans-serif')
    .attr("font-size",'20px');


function move() {
    d3.select(this).transition()
        .duration(1000)
        .attr("r", 5)
        .attr("cx", d3.select(this).attr("cx"))
      .transition()
        .delay(50)
        .attr("r", 45)
        .attr("cx", d3.select(this).attr("cx")*2)
};

</script>
</body>

</html>